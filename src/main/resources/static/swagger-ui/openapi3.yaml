openapi: 3.0.1
info: {title: My API, description: My API description, version: 0.1.0}
servers:
- {url: 'http://localhost:8080'}
tags: []
paths:
  /admin/products:
    post:
      tags: [Admin-Product]
      summary: 상품 등록
      description: 관리자 상품 생성 API
      operationId: admin-products-create
      requestBody:
        content:
          application/json;charset=UTF-8:
            schema: {$ref: '#/components/schemas/Create'}
            examples:
              admin-products-create:
                value: |-
                  {
                    "name" : "테스트 상품명",
                    "description" : "테스트 상품 설명",
                    "price" : 10000,
                    "stockQuantity" : 10
                  }
      responses:
        '201':
          description: '201'
          content:
            application/json;charset=UTF-8:
              schema: {$ref: '#/components/schemas/ApiResponse'}
              examples:
                admin-products-create:
                  value: |-
                    {
                      "data" : {
                        "id" : 1
                      }
                    }
      security:
      - bearerAuthJWT: []
  /api/v1/admin/delivery/couriers:
    get:
      tags: [Admin-Courier]
      summary: 택배사 목록 조회
      description: 전체 택배사 목록을 조회합니다.
      operationId: admin-courier-list
      responses:
        '200':
          description: '200'
          content:
            application/json;charset=UTF-8:
              schema: {$ref: '#/components/schemas/ListN'}
              examples:
                admin-courier-list:
                  value: |-
                    {
                      "data" : [ {
                        "id" : 1,
                        "code" : "CJ",
                        "name" : "CJ대한통운",
                        "isActive" : true
                      }, {
                        "id" : 2,
                        "code" : "POST",
                        "name" : "우체국",
                        "isActive" : true
                      } ]
                    }
      security:
      - bearerAuthJWT: []
    post:
      tags: [Admin-Courier]
      summary: 택배사 등록
      description: 관리자가 새로운 택배사를 등록합니다.
      operationId: admin-courier-create
      requestBody:
        content:
          application/json;charset=UTF-8:
            schema: {$ref: '#/components/schemas/Create'}
            examples:
              admin-courier-create:
                value: |-
                  {
                    "code" : "CJ",
                    "name" : "CJ대한통운"
                  }
      responses:
        '201':
          description: '201'
          content:
            application/json;charset=UTF-8:
              schema: {$ref: '#/components/schemas/ApiResponse'}
              examples:
                admin-courier-create:
                  value: |-
                    {
                      "data" : {
                        "id" : 1,
                        "code" : "CJ",
                        "name" : "CJ대한통운",
                        "isActive" : true
                      }
                    }
      security:
      - bearerAuthJWT: []
  /api/v1/admin/delivery/orders:
    get:
      tags: [Admin-Delivery]
      summary: 배송 목록 조회
      description: 관리자가 배송 전체 목록을 페이징하여 조회합니다.
      operationId: admin-delivery-list
      responses:
        '200':
          description: '200'
          content:
            application/json;charset=UTF-8:
              schema: {$ref: '#/components/schemas/TestPageResponse'}
              examples:
                admin-delivery-list:
                  value: |-
                    {
                      "data" : [ {
                        "deliveryId" : 100,
                        "orderId" : 1,
                        "trackingNumber" : "TRACK123",
                        "courierCode" : "CJ",
                        "status" : "PENDING",
                        "createdAt" : "2025-12-01T02:56:35.639077"
                      } ],
                      "page" : {
                        "number" : 0,
                        "size" : 1,
                        "totalElements" : 1,
                        "totalPages" : 1,
                        "hasNext" : false,
                        "hasPrev" : false,
                        "sort" : [ ]
                      }
                    }
      security:
      - bearerAuthJWT: []
  /api/v1/admin/delivery/couriers/{courierId}:
    put:
      tags: [Admin-Courier]
      summary: 택배사 수정
      description: 택배사 명칭 및 사용 여부를 수정합니다.
      operationId: admin-courier-update
      parameters:
      - name: courierId
        in: path
        description: ''
        required: true
        schema: {type: string}
      requestBody:
        content:
          application/json;charset=UTF-8:
            schema: {$ref: '#/components/schemas/Update'}
            examples:
              admin-courier-update:
                value: |-
                  {
                    "name" : "CJ GLS",
                    "isActive" : false
                  }
      responses:
        '200':
          description: '200'
          content:
            application/json;charset=UTF-8:
              schema: {$ref: '#/components/schemas/ApiResponse'}
              examples:
                admin-courier-update:
                  value: |-
                    {
                      "data" : {
                        "id" : 1,
                        "code" : "CJ",
                        "name" : "CJ GLS",
                        "isActive" : false
                      }
                    }
      security:
      - bearerAuthJWT: []
    delete:
      tags: [Admin-Courier]
      summary: 택배사 삭제
      description: 택배사 정보를 삭제합니다.
      operationId: admin-courier-delete
      parameters:
      - name: courierId
        in: path
        description: ''
        required: true
        schema: {type: string}
      responses:
        '204': {description: '204'}
      security:
      - bearerAuthJWT: []
  /api/v1/admin/delivery/orders/{deliveryId}:
    get:
      tags: [Admin-Delivery]
      summary: 배송 상세 조회
      description: 관리자가 특정 배송 건의 상세 정보를 조회합니다.
      operationId: admin-delivery-detail
      parameters:
      - name: deliveryId
        in: path
        description: ''
        required: true
        schema: {type: string}
      responses:
        '200':
          description: '200'
          content:
            application/json;charset=UTF-8:
              schema: {$ref: '#/components/schemas/ApiResponse'}
              examples:
                admin-delivery-detail:
                  value: |-
                    {
                      "data" : {
                        "deliveryId" : 100,
                        "orderId" : 1,
                        "receiverName" : "홍길동",
                        "receiverMobile" : "010-1234-5678",
                        "postalCode" : "12345",
                        "roadAddress" : "서울",
                        "detailAddress" : "상세",
                        "deliveryFee" : 3000,
                        "status" : "PENDING",
                        "courierCode" : "TRACK123",
                        "trackingNumber" : "CJ",
                        "createdAt" : "2025-12-01T02:56:35.616381"
                      }
                    }
      security:
      - bearerAuthJWT: []
  /api/v1/admin/delivery/orders/{deliveryId}/status:
    patch:
      tags: [Admin-Delivery]
      summary: 배송 상태 변경
      description: 관리자가 배송 상태를 변경합니다. (출고 시 송장정보 필수)
      operationId: admin-delivery-update-status
      parameters:
      - name: deliveryId
        in: path
        description: ''
        required: true
        schema: {type: string}
      requestBody:
        content:
          application/json;charset=UTF-8:
            schema: {$ref: '#/components/schemas/UpdateStatus'}
            examples:
              admin-delivery-update-status:
                value: |-
                  {
                    "status" : "SHIPPING",
                    "courierCode" : "CJ",
                    "trackingNumber" : "TRACK999"
                  }
      responses:
        '200':
          description: '200'
          content:
            application/json;charset=UTF-8:
              schema: {$ref: '#/components/schemas/ApiResponse'}
              examples:
                admin-delivery-update-status:
                  value: |-
                    {
                      "data" : {
                        "deliveryId" : 100,
                        "orderId" : 1,
                        "receiverName" : "홍길동",
                        "receiverMobile" : "010-1234-5678",
                        "postalCode" : "12345",
                        "roadAddress" : "서울",
                        "detailAddress" : "상세",
                        "deliveryFee" : 3000,
                        "status" : "SHIPPING",
                        "courierCode" : "TRACK123",
                        "trackingNumber" : "CJ",
                        "createdAt" : "2025-12-01T02:56:35.244831"
                      }
                    }
      security:
      - bearerAuthJWT: []
  /delivery:
    post:
      tags: [Delivery]
      summary: 배송 생성
      description: 주문 건에 대한 배송 정보를 생성합니다. (시스템 내부용)
      operationId: delivery-create
      requestBody:
        content:
          application/json;charset=UTF-8:
            schema: {$ref: '#/components/schemas/Create'}
            examples:
              delivery-create:
                value: |-
                  {
                    "orderId" : 1,
                    "deliveryAddressId" : 100,
                    "deliveryFee" : 3000
                  }
      responses:
        '201':
          description: '201'
          content:
            application/json;charset=UTF-8:
              schema: {$ref: '#/components/schemas/ApiResponse'}
              examples:
                delivery-create:
                  value: |-
                    {
                      "data" : {
                        "deliveryId" : 100,
                        "orderId" : 1,
                        "receiverName" : "홍길동",
                        "receiverMobile" : "010-1234-5678",
                        "postalCode" : "12345",
                        "roadAddress" : "서울",
                        "detailAddress" : "상세",
                        "deliveryFee" : 3000,
                        "status" : "PENDING",
                        "courierCode" : "TRACK123",
                        "trackingNumber" : "CJ",
                        "createdAt" : "2025-12-01T02:39:49.584978"
                      }
                    }
      security:
      - bearerAuthJWT: []
  /delivery/addresses:
    get:
      tags: [Delivery-Address]
      summary: 배송지 목록 조회
      description: 유저의 모든 배송지를 조회합니다.
      operationId: delivery-address-list
      responses:
        '200':
          description: '200'
          content:
            application/json;charset=UTF-8:
              schema: {$ref: '#/components/schemas/ListN'}
              examples:
                delivery-address-list:
                  value: |-
                    [ {
                      "id" : 100,
                      "addressName" : "집",
                      "receiverName" : "홍길동",
                      "receiverMobile" : "010-1234-5678",
                      "postalCode" : "12345",
                      "roadAddress" : "서울시 강남구",
                      "detailAddress" : "101호",
                      "isDefault" : true,
                      "isActive" : true,
                      "createdAt" : "2025-11-29T22:51:11.50756",
                      "updatedAt" : "2025-11-29T22:51:11.507565"
                    }, {
                      "id" : 101,
                      "addressName" : "회사",
                      "receiverName" : "홍길동",
                      "receiverMobile" : "010-1234-5678",
                      "postalCode" : "12345",
                      "roadAddress" : "서울시 강남구",
                      "detailAddress" : "101호",
                      "isDefault" : false,
                      "isActive" : true,
                      "createdAt" : "2025-11-29T22:51:11.507568",
                      "updatedAt" : "2025-11-29T22:51:11.507569"
                    } ]
      security:
      - bearerAuthJWT: []
    post:
      tags: [Delivery-Address]
      summary: 배송지 생성
      description: 새로운 배송지를 등록합니다.
      operationId: delivery-address-create
      requestBody:
        content:
          application/json;charset=UTF-8:
            schema: {$ref: '#/components/schemas/Create'}
            examples:
              delivery-address-create:
                value: |-
                  {
                    "addressName" : "집",
                    "receiverName" : "홍길동",
                    "receiverMobile" : "010-1234-5678",
                    "postalCode" : "12345",
                    "roadAddress" : "서울시 강남구",
                    "detailAddress" : "101호",
                    "isDefault" : true
                  }
      responses:
        '201':
          description: '201'
          content:
            application/json;charset=UTF-8:
              schema: {$ref: '#/components/schemas/TestDeliveryAddressResponse'}
              examples:
                delivery-address-create:
                  value: |-
                    {
                      "id" : 100,
                      "addressName" : "집",
                      "receiverName" : "홍길동",
                      "receiverMobile" : "010-1234-5678",
                      "postalCode" : "12345",
                      "roadAddress" : "서울시 강남구",
                      "detailAddress" : "101호",
                      "isDefault" : true,
                      "isActive" : true,
                      "createdAt" : "2025-11-29T22:51:11.526623",
                      "updatedAt" : "2025-11-29T22:51:11.526627"
                    }
      security:
      - bearerAuthJWT: []
  /delivery/addresses/{addressId}:
    put:
      tags: [Delivery-Address]
      summary: 배송지 수정
      description: 기존 배송지 정보를 수정합니다.
      operationId: delivery-address-update
      parameters:
      - name: addressId
        in: path
        description: ''
        required: true
        schema: {type: string}
      requestBody:
        content:
          application/json;charset=UTF-8:
            schema: {$ref: '#/components/schemas/Update'}
            examples:
              delivery-address-update:
                value: |-
                  {
                    "addressName" : "회사",
                    "receiverName" : "김대리",
                    "receiverMobile" : "010-9876-5432",
                    "postalCode" : "54321",
                    "roadAddress" : "판교",
                    "detailAddress" : "사옥"
                  }
      responses:
        '200':
          description: '200'
          content:
            application/json;charset=UTF-8:
              schema: {$ref: '#/components/schemas/TestDeliveryAddressResponse'}
              examples:
                delivery-address-update:
                  value: |-
                    {
                      "id" : 100,
                      "addressName" : "회사",
                      "receiverName" : "홍길동",
                      "receiverMobile" : "010-1234-5678",
                      "postalCode" : "12345",
                      "roadAddress" : "서울시 강남구",
                      "detailAddress" : "101호",
                      "isDefault" : true,
                      "isActive" : true,
                      "createdAt" : "2025-11-29T22:51:11.448475",
                      "updatedAt" : "2025-11-29T22:51:11.44848"
                    }
      security:
      - bearerAuthJWT: []
    delete:
      tags: [Delivery-Address]
      summary: 배송지 삭제
      description: 배송지를 삭제(비활성화) 처리합니다.
      operationId: delivery-address-delete
      parameters:
      - name: addressId
        in: path
        description: ''
        required: true
        schema: {type: string}
      responses:
        '204': {description: '204'}
      security:
      - bearerAuthJWT: []
  /delivery/tracking/{trackingNumber}:
    get:
      tags: [Delivery]
      summary: 배송 추적
      description: 송장 번호로 배송을 추적합니다.
      operationId: delivery-track
      parameters:
      - name: trackingNumber
        in: path
        description: ''
        required: true
        schema: {type: string}
      responses:
        '200':
          description: '200'
          content:
            application/json;charset=UTF-8:
              schema: {$ref: '#/components/schemas/ApiResponse'}
              examples:
                delivery-track:
                  value: |-
                    {
                      "data" : {
                        "deliveryId" : 100,
                        "courierCode" : "CJ",
                        "trackingNumber" : "TRACK123456",
                        "status" : "SHIPPING",
                        "shippedAt" : "2025-12-01T02:39:49.182594",
                        "deliveredAt" : null
                      }
                    }
      security:
      - bearerAuthJWT: []
  /delivery/orders/{orderId}/status:
    get:
      tags: [Delivery]
      summary: 배송 상태 조회
      description: 주문 번호로 배송 상태를 조회합니다.
      operationId: delivery-get-status
      parameters:
      - name: orderId
        in: path
        description: ''
        required: true
        schema: {type: string}
      responses:
        '200':
          description: '200'
          content:
            application/json;charset=UTF-8:
              schema: {$ref: '#/components/schemas/ApiResponse'}
              examples:
                delivery-get-status:
                  value: |-
                    {
                      "data" : {
                        "deliveryId" : 100,
                        "orderId" : 1,
                        "receiverName" : "홍길동",
                        "receiverMobile" : "010-1234-5678",
                        "postalCode" : "12345",
                        "roadAddress" : "서울",
                        "detailAddress" : "상세",
                        "deliveryFee" : 3000,
                        "status" : "PENDING",
                        "courierCode" : "TRACK123",
                        "trackingNumber" : "CJ",
                        "createdAt" : "2025-12-01T02:39:49.55766"
                      }
                    }
      security:
      - bearerAuthJWT: []
components:
  schemas:
    Create:
      title: Create
      type: object
      properties:
        code: {type: string, description: code, nullable: true}
        name: {type: string, description: name, nullable: true}
    TestPageResponse:
      title: TestPageResponse
      type: object
      properties:
        data:
          type: array
          description: data
          items:
            type: object
            properties:
              createdAt: {type: string, description: createdAt, nullable: true}
              deliveryId: {type: number, description: deliveryId, nullable: true}
              orderId: {type: number, description: orderId, nullable: true}
              trackingNumber: {type: string, description: trackingNumber, nullable: true}
              courierCode: {type: string, description: courierCode, nullable: true}
              status: {type: string, description: status, nullable: true}
        page:
          type: object
          properties:
            number: {type: number, description: number, nullable: true}
            size: {type: number, description: size, nullable: true}
            hasPrev: {type: boolean, description: hasPrev, nullable: true}
            totalPages: {type: number, description: totalPages, nullable: true}
            hasNext: {type: boolean, description: hasNext, nullable: true}
            sort:
              type: array
              description: sort
              nullable: true
              items:
                oneOf:
                - {type: object}
                - {type: boolean}
                - {type: string}
                - {type: number}
            totalElements: {type: number, description: totalElements, nullable: true}
          description: page
    Update:
      title: Update
      type: object
      properties:
        name: {type: string, description: name, nullable: true}
        isActive: {type: boolean, description: isActive, nullable: true}
    TestDeliveryAddressResponse:
      title: TestDeliveryAddressResponse
      type: object
      properties:
        createdAt: {type: string, description: createdAt, nullable: true}
        isDefault: {type: boolean, description: isDefault, nullable: true}
        receiverName: {type: string, description: receiverName, nullable: true}
        roadAddress: {type: string, description: roadAddress, nullable: true}
        postalCode: {type: string, description: postalCode, nullable: true}
        receiverMobile: {type: string, description: receiverMobile, nullable: true}
        detailAddress: {type: string, description: detailAddress, nullable: true}
        addressName: {type: string, description: addressName, nullable: true}
        id: {type: number, description: id, nullable: true}
        isActive: {type: boolean, description: isActive, nullable: true}
        updatedAt: {type: string, description: updatedAt, nullable: true}
    ApiResponse:
      title: ApiResponse
      type: object
      properties:
        data:
          type: object
          properties:
            id: {type: number, description: id, nullable: true}
          description: data
        slice: {type: object, description: slice, nullable: true}
        page: {type: object, description: page, nullable: true}
    ListN: {title: ListN, type: object}
    UpdateStatus:
      title: UpdateStatus
      type: object
      properties:
        trackingNumber: {type: string, description: trackingNumber, nullable: true}
        courierCode: {type: string, description: courierCode, nullable: true}
        status: {type: string, description: status, nullable: true}
  securitySchemes:
    bearerAuthJWT: {type: http, scheme: bearer, bearerFormat: JWT}
    bearerAuth: {type: http, scheme: bearer, bearerFormat: JWT}
security:
- bearerAuth: []
